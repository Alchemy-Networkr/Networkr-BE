{"ast":null,"code":"var _temp;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst pool = require('../utils/pool');\n\nmodule.exports = (_temp = class PortfolioComment {\n  constructor(comment) {\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"ownerEmail\", void 0);\n\n    _defineProperty(this, \"comment\", void 0);\n\n    _defineProperty(this, \"portfolioId\", void 0);\n\n    this.id = comment.id;\n    this.ownerEmail = comment.owner_email;\n    this.comment = comment.comment;\n    this.portfolioId = comment.portfolio_id;\n  }\n\n  static async insert(comment) {\n    const {\n      rows\n    } = await pool.query('INSERT INTO portfolio_comments (owner_email, comment, portfolio_id) VALUES ($1, $2, $3) RETURNING *', [comment.ownerEmail, comment.comment, comment.portfolioId]);\n    return new PortfolioComment(rows[0]);\n  }\n\n  static async findAll() {\n    const {\n      rows\n    } = await pool.query('SELECT * FROM portfolio_comments');\n    return rows.map(comment => new PortfolioComment(comment));\n  }\n\n  static async delete(id) {\n    const {\n      rows\n    } = await pool.query('DELETE FROM portfolio_comments WHERE id=$1 RETURNING *', [id]);\n    if (!rows[0]) return null;else return new PortfolioComment(rows[0]);\n  }\n\n  static async update(id, comment) {\n    const {\n      rows\n    } = await pool.query(`\n    UPDATE portfolio_comments\n      SET comment=$1\n      WHERE id=$2\n      RETURNING *\n    `, [comment, id]);\n    return new PortfolioComment(rows[0]);\n  }\n\n}, _temp);","map":{"version":3,"sources":["C:/Users/cuele/alchemy/career-track/Networkr-BE/lib/models/portfolio-comment.js"],"names":["pool","require","module","exports","PortfolioComment","constructor","comment","id","ownerEmail","owner_email","portfolioId","portfolio_id","insert","rows","query","findAll","map","delete","update"],"mappings":";;;;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,eAAD,CAApB;;AAEAC,MAAM,CAACC,OAAP,YAAiB,MAAMC,gBAAN,CAAuB;AAMtCC,EAAAA,WAAW,CAACC,OAAD,EAAU;AAAA;;AAAA;;AAAA;;AAAA;;AACnB,SAAKC,EAAL,GAAUD,OAAO,CAACC,EAAlB;AACA,SAAKC,UAAL,GAAkBF,OAAO,CAACG,WAA1B;AACA,SAAKH,OAAL,GAAeA,OAAO,CAACA,OAAvB;AACA,SAAKI,WAAL,GAAmBJ,OAAO,CAACK,YAA3B;AACD;;AAED,eAAaC,MAAb,CAAoBN,OAApB,EAA6B;AAC3B,UAAM;AAAEO,MAAAA;AAAF,QAAW,MAAMb,IAAI,CAACc,KAAL,CACrB,qGADqB,EAErB,CAACR,OAAO,CAACE,UAAT,EAAqBF,OAAO,CAACA,OAA7B,EAAsCA,OAAO,CAACI,WAA9C,CAFqB,CAAvB;AAKA,WAAO,IAAIN,gBAAJ,CAAqBS,IAAI,CAAC,CAAD,CAAzB,CAAP;AACD;;AAED,eAAaE,OAAb,GAAsB;AACpB,UAAM;AAAEF,MAAAA;AAAF,QAAW,MAAMb,IAAI,CAACc,KAAL,CACrB,kCADqB,CAAvB;AAIA,WAAOD,IAAI,CAACG,GAAL,CAASV,OAAO,IAAI,IAAIF,gBAAJ,CAAqBE,OAArB,CAApB,CAAP;AACD;;AAED,eAAaW,MAAb,CAAoBV,EAApB,EAAwB;AACtB,UAAM;AAAEM,MAAAA;AAAF,QAAW,MAAMb,IAAI,CAACc,KAAL,CACrB,wDADqB,EAErB,CAACP,EAAD,CAFqB,CAAvB;AAKA,QAAG,CAACM,IAAI,CAAC,CAAD,CAAR,EAAa,OAAO,IAAP,CAAb,KACK,OAAO,IAAIT,gBAAJ,CAAqBS,IAAI,CAAC,CAAD,CAAzB,CAAP;AACN;;AAED,eAAaK,MAAb,CAAoBX,EAApB,EAAwBD,OAAxB,EAAiC;AAC/B,UAAM;AAAEO,MAAAA;AAAF,QAAW,MAAMb,IAAI,CAACc,KAAL,CAAY;;;;;KAAZ,EAKpB,CAACR,OAAD,EAAUC,EAAV,CALoB,CAAvB;AAOA,WAAO,IAAIH,gBAAJ,CAAqBS,IAAI,CAAC,CAAD,CAAzB,CAAP;AACD;;AAjDqC,CAAxC","sourcesContent":["const pool = require('../utils/pool');\r\n\r\nmodule.exports = class PortfolioComment {\r\n  id;\r\n  ownerEmail;\r\n  comment;\r\n  portfolioId;\r\n\r\n  constructor(comment) {\r\n    this.id = comment.id;\r\n    this.ownerEmail = comment.owner_email;\r\n    this.comment = comment.comment;\r\n    this.portfolioId = comment.portfolio_id;\r\n  } \r\n\r\n  static async insert(comment) {\r\n    const { rows } = await pool.query(\r\n      'INSERT INTO portfolio_comments (owner_email, comment, portfolio_id) VALUES ($1, $2, $3) RETURNING *',\r\n      [comment.ownerEmail, comment.comment, comment.portfolioId]\r\n    );\r\n\r\n    return new PortfolioComment(rows[0]);\r\n  }\r\n\r\n  static async findAll(){\r\n    const { rows } = await pool.query(\r\n      'SELECT * FROM portfolio_comments'\r\n    );\r\n\r\n    return rows.map(comment => new PortfolioComment(comment));\r\n  }\r\n\r\n  static async delete(id) {\r\n    const { rows } = await pool.query(\r\n      'DELETE FROM portfolio_comments WHERE id=$1 RETURNING *',\r\n      [id]\r\n    );\r\n\r\n    if(!rows[0]) return null;\r\n    else return new PortfolioComment(rows[0]);\r\n  }\r\n\r\n  static async update(id, comment) {\r\n    const { rows } = await pool.query(`\r\n    UPDATE portfolio_comments\r\n      SET comment=$1\r\n      WHERE id=$2\r\n      RETURNING *\r\n    `, [comment, id]);\r\n\r\n    return new PortfolioComment(rows[0]);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}